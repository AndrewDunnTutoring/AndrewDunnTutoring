<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Derivatives and Interactive Graphs</title>
    <style>
        body {
            background-color: lightblue;
            font-family: Arial, sans-serif;
        }
        header {
            background-color: black;
            color: white;
            padding: 10px;
            text-align: center;
        }
        .content {
            padding: 20px;
            text-align: center;
        }
        .graph-container {
            margin-top: 30px;
        }
        .graph {
            width: 100%;
            height: 500px;
        }
        footer {
            background-color: black;
            color: white;
            padding: 10px;
            text-align: center;
        }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/plotly.js-dist@latest"></script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>
    <header>
        <h1>Derivatives and Interactive Graphs</h1>
    </header>
    <div class="content">
        <h2>Derivatives of \(a^x\), \(\ln(x)\), and \(\log_a(x)\)</h2>
        <p>We are going to derive the derivatives of \(a^x\), \(\ln(x)\), and \(\log_a(x)\)! We are going to need the following properties:</p>
        <p>\[
            e^{a \cdot b} = (e^a)^b = (e^b)^a
        \]</p>
        <p>\[
            a = e^{\ln(a)}
        \]</p>
        <p>\[
            \log_a(b) = \frac{\ln(b)}{\ln(a)}
        \]</p>

        <h3>Part 1: \(a^x\)</h3>
        <p>If \(y = a^x\), and \(a\) can be expressed as \(e^{\ln(a)}\), then \(y = (e^{\ln(a)})^x = e^{x \cdot \ln(a)}\).</p>
        <p>Now we can take the derivative with the chain rule!</p>
        <p>\[
            \frac{dy}{dx} = e^{x \cdot \ln(a)} \cdot \ln(a) = a^x \cdot \ln(a)
        \]</p>
        <p>And if we plug in \(e\) for \(a\), we get that:</p>
        <p>\[
            \frac{d}{dx}(e^x) = e^x \cdot \ln(e) = e^x
        \]</p>
        <div class="graph-container">
            <h3>Interactive Graph of \(y = a^x\) with Tangent Line</h3>
            <p>Adjust the sliders to see how the graph and tangent line change:</p>
            <label for="aValueExp">a: </label>
            <input type="range" id="aValueExp" min="0.1" max="10" step="0.1" value="2">
            <span id="aValueExpDisplay">2</span>
            <br>
            <label for="xValueExp">x: </label>
            <input type="range" id="xValueExp" min="-5" max="5" step="0.1" value="1">
            <span id="xValueExpDisplay">1</span>
            <br>
            <div id="expGraph" class="graph"></div>
            <p id="expTangentEquation"></p>
        </div>
        <h3>Part 2: \(\ln(x)\) (featuring implicit differentiation)</h3>
        <p>Let's set \(y = \ln(x)\). If we assume that \(y\) is dependent on \(x\), then we can use implicit differentiation to help us out.</p>
        <p>Let's raise both sides by \(e\):</p>
        <p>\[
            e^y = e^{\ln(x)} = x
        \]</p>
        <p>Now let's take \(\frac{d}{dx}\) on both sides, knowing that the derivative with respect to \(x\) of \(y\) is \(\frac{dy}{dx}\):</p>
        <p>\[
            e^y \cdot \frac{dy}{dx} = 1
        \]</p>
        <p>Isolating \(\frac{dy}{dx}\), we get:</p>
        <p>\[
            \frac{dy}{dx} = \frac{1}{e^y}
        \]</p>
        <p>But we said that \(e^y = x\), so:</p>
        <p>\[
            \frac{dy}{dx} = \frac{1}{x}
        \]</p>
        <p>Keep in mind though, that since \(\ln(x)\) is defined on \((0, \infty)\), you cannot plug in negative values into the derivative.</p>

        <h3>Part 3: \(\log_a(x)\)</h3>
        <p>Now we're dealing with a logarithm with a different base. We will combine the two previous approaches and find this derivative.</p>
        <p>If \(y = \log_a(x)\), let's raise both sides by \(e\):</p>
        <p>\[
            e^y = e^{\log_a(x)}
        \]</p>
        <p>Let's rewrite \(\log_a(x)\) as \(\frac{\ln(x)}{\ln(a)}\):</p>
        <p>\[
            e^y = e^{\frac{\ln(x)}{\ln(a)}}
        \]</p>
        <p>If we raise both sides to the power of \(\ln(a)\), we get:</p>
        <p>\[
            (e^y)^{\ln(a)} = e^{\ln(x)}
        \]</p>
        <p>We use exponential properties to simplify this:</p>
        <p>\[
            (e^{\ln(a)})^y = x
        \]</p>
        <p>But that's just:</p>
        <p>\[
            a^y = x
        \]</p>
        <p>So if we take \(\frac{d}{dx}\) on both sides:</p>
        <p>\[
            a^y \cdot \ln(a) \cdot \frac{dy}{dx} = 1
        \]</p>
        <p>Isolating \(\frac{dy}{dx}\), we get:</p>
        <p>\[
            \frac{dy}{dx} = \frac{1}{a^y \cdot \ln(a)}
        \]</p>
        <p>But \(a^y = x\), so:</p>
        <p>\[
            \frac{dy}{dx} = \frac{1}{x \cdot \ln(a)}
        \]</p>
        <p>So \(\frac{d}{dx}(\log_a(x)) = \frac{1}{x \cdot \ln(a)}\)</p>

        
        <div class="graph-container">
            <h3>Interactive Graph of \(y = \log_a(x)\) with Tangent Line</h3>
            <p>Adjust the sliders to see how the graph and tangent line change:</p>
            <label for="aValueLog">a: </label>
            <input type="range" id="aValueLog" min="0.1" max="10" step="0.1" value="2">
            <span id="aValueLogDisplay">2</span>
            <br>
            <label for="xValueLog">x: </label>
            <input type="range" id="xValueLog" min="0.1" max="10" step="0.1" value="1">
            <span id="xValueLogDisplay">1</span>
            <br>
            <div id="logGraph" class="graph"></div>
            <p id="logTangentEquation"></p>
        </div>
    </div>
    <footer>
        <p>&copy; 2024 Andrew Dunn</p>
    </footer>
    <script>
        // Function to plot exponential function and tangent line
        function plotExpGraph() {
            const a = parseFloat(document.getElementById('aValueExp').value);
            const x = parseFloat(document.getElementById('xValueExp').value);
    
            document.getElementById('aValueExpDisplay').textContent = a;
            document.getElementById('xValueExpDisplay').textContent = x;
    
            const xValues = Array.from({length: 101}, (_, i) => -5 + 0.1 * i);
            const yValues = xValues.map(x => Math.pow(a, x));
    
            const yTangent = Math.pow(a, x);
            const slopeTangent = yTangent * Math.log(a);
            const tangentLine = xValues.map(xVal => yTangent + slopeTangent * (xVal - x));
    
            const expTrace = {
                x: xValues,
                y: yValues,
                type: 'scatter',
                mode: 'lines',
                line: {color: 'blue'},
                name: `y = ${a}^x`
            };
    
            const tangentTrace = {
                x: xValues,
                y: tangentLine,
                type: 'scatter',
                mode: 'lines',
                line: {color: 'red', dash: 'dash'},
                name: 'Tangent Line'
            };
    
            const layout = {
                title: `Graph of y = ${a}^x with Tangent at x = ${x}`,
                xaxis: {range: [-5, 5], zeroline: true},
                yaxis: {range: [-10, 10], zeroline: true},
                showlegend: true,
                margin: {l: 40, r: 40, b: 40, t: 40},
                width: 600,  // Fixed width
                height: 400  // Fixed height
            };
    
            Plotly.newPlot('expGraph', [expTrace, tangentTrace], layout);
    
            // Update tangent equation
            const tangentEquation = `Tangent Line Equation: y = ${yTangent.toFixed(2)} + ${slopeTangent.toFixed(2)}(x - ${x})`;
            document.getElementById('expTangentEquation').textContent = tangentEquation;
        }
    
        // Function to plot logarithmic function and tangent line
        function plotLogGraph() {
            const a = parseFloat(document.getElementById('aValueLog').value);
            const x = parseFloat(document.getElementById('xValueLog').value);
    
            document.getElementById('aValueLogDisplay').textContent = a;
            document.getElementById('xValueLogDisplay').textContent = x;
    
            const xValues = Array.from({length: 101}, (_, i) => 0.1 + 0.1 * i);
            const yValues = xValues.map(x => Math.log(x) / Math.log(a));
    
            const yTangent = Math.log(x) / Math.log(a);
            const slopeTangent = 1 / (x * Math.log(a));
            const tangentLine = xValues.map(xVal => yTangent + slopeTangent * (xVal - x));
    
            const logTrace = {
                x: xValues,
                y: yValues,
                type: 'scatter',
                mode: 'lines',
                line: {color: 'blue'},
                name: `y = log_${a}(x)`
            };
    
            const tangentTrace = {
                x: xValues,
                y: tangentLine,
                type: 'scatter',
                mode: 'lines',
                line: {color: 'red', dash: 'dash'},
                name: 'Tangent Line'
            };
    
            const layout = {
                title: `Graph of y = log_${a}(x) with Tangent at x = ${x}`,
                xaxis: {range: [0, 10], zeroline: true},
                yaxis: {range: [-5, 5], zeroline: true},
                showlegend: true,
                margin: {l: 40, r: 40, b: 40, t: 40},
                width: 600,  // Fixed width
                height: 400  // Fixed height
            };
    
            Plotly.newPlot('logGraph', [logTrace, tangentTrace], layout);
    
            // Update tangent equation
            const tangentEquation = `Tangent Line Equation: y = ${yTangent.toFixed(2)} + ${slopeTangent.toFixed(2)}(x - ${x})`;
            document.getElementById('logTangentEquation').textContent = tangentEquation;
        }
    
        // Event listeners for sliders
        document.getElementById('aValueExp').addEventListener('input', plotExpGraph);
        document.getElementById('xValueExp').addEventListener('input', plotExpGraph);
        document.getElementById('aValueLog').addEventListener('input', plotLogGraph);
        document.getElementById('xValueLog').addEventListener('input', plotLogGraph);
    
        // Initial plots
        plotExpGraph();
        plotLogGraph();
    </script>
    
</body>
</html>
